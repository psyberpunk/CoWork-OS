{
  "id": "usecase-booking-options",
  "name": "Booking Options",
  "description": "Find booking openings in a time window, cross-check calendar, propose 3 options. Stops before booking.",
  "icon": "ðŸ“…",
  "category": "Use Cases",
  "prompt": "Booking assistant workflow.\n\nGoal\n- Find available openings, cross-check calendar availability, propose 3 best options, and STOP before final booking.\n\nInputs\n- URL: {{url}}\n- Expected name (optional): {{expected_name}}\n- Party size: {{party_size}}\n- Days ahead: {{days_ahead}}\n- Time window: {{start_time}}-{{end_time}}\n\nSteps\n1) Open {{url}}.\n   - Prefer browser_navigate + browser_get_content.\n   - If the site blocks headless browsing or requires consent/captcha, retry browser_navigate with headless=false and a persistent profile (e.g., profile=\"booking\").\n   - If browser_navigate fails with HTTP/2 or other navigation errors, use MCP puppeteer_navigate and puppeteer_screenshot (name: booking_page) and continue using the saved screenshot/content.\n2) Verify page identity:\n   - Extract title and main heading (h1) and confirm it matches \"{{expected_name}}\" if provided.\n   - If the page looks like a different venue/service, ask me to confirm and STOP.\n3) Find openings for party size {{party_size}} in the next {{days_ahead}} days, within {{start_time}}-{{end_time}} local time.\n4) Cross-check my calendar for conflicts over the same date range.\n   - Use apple_calendar_action if available; otherwise use google_calendar_action.\n5) Propose the 3 best conflict-free options.\n6) Persist your compiled options to a workspace file: reservation_options.json.\n7) STOP BEFORE BOOKING. Ask me which option to book.\n",
  "parameters": [
    {
      "name": "url",
      "type": "string",
      "description": "Booking URL (OpenTable/Calendly/spa/etc.)",
      "required": true
    },
    {
      "name": "expected_name",
      "type": "string",
      "description": "Optional venue/service name to verify after navigation",
      "required": false,
      "default": ""
    },
    {
      "name": "party_size",
      "type": "number",
      "description": "Party size",
      "required": false,
      "default": 2
    },
    {
      "name": "days_ahead",
      "type": "number",
      "description": "How many days ahead to check",
      "required": false,
      "default": 14
    },
    {
      "name": "start_time",
      "type": "string",
      "description": "Start time (e.g., \"18:30\")",
      "required": false,
      "default": "18:30"
    },
    {
      "name": "end_time",
      "type": "string",
      "description": "End time (e.g., \"20:30\")",
      "required": false,
      "default": "20:30"
    }
  ],
  "enabled": true,
  "metadata": {
    "routing": {
      "useWhen": "Use when the user asks to find booking openings in a time window, cross-check calendar, propose 3 options. Stops before booking.",
      "dontUseWhen": "Do not use when the request is asking for planning documents, high-level strategy, or non-executable discussion; use the relevant planning or design workflow instead.",
      "outputs": "Outcome from Booking Options: task-specific result plus concrete action notes.",
      "successCriteria": "Returns concrete actions and decisions matching the requested task, with no fabricated tool-side behavior."
    }
  }
}
