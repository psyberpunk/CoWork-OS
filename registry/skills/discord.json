{
  "id": "discord",
  "name": "Discord",
  "description": "Use when you need to control Discord from CoWork-OSS via the discord tool: send messages, react, post or upload stickers, upload emojis, run polls, manage threads/pins/search, create/edit/delete channels and categories, fetch permissions or member/role/channel info, or handle moderation actions in Discord DMs or channels.",
  "icon": "üéÆ",
  "category": "Tools",
  "prompt": "# Discord Actions\n\n## Overview\n\nUse `discord` to manage messages, reactions, threads, polls, and moderation. You can disable groups via `discord.actions.*` (defaults to enabled, except roles/moderation). The tool uses the bot token configured for CoWork-OSS.\n\n## Inputs to collect\n\n- For reactions: `channelId`, `messageId`, and an `emoji`.\n- For fetchMessage: `guildId`, `channelId`, `messageId`, or a `messageLink` like `https://discord.com/channels/<guildId>/<channelId>/<messageId>`.\n- For stickers/polls/sendMessage: a `to` target (`channel:<id>` or `user:<id>`). Optional `content` text.\n- Polls also need a `question` plus 2‚Äì10 `answers`.\n- For media: `mediaUrl` with `file:///path` for local files or `https://...` for remote.\n- For emoji uploads: `guildId`, `name`, `mediaUrl`, optional `roleIds` (limit 256KB, PNG/JPG/GIF).\n- For sticker uploads: `guildId`, `name`, `description`, `tags`, `mediaUrl` (limit 512KB, PNG/APNG/Lottie JSON).\n\nMessage context lines include `discord message id` and `channel` fields you can reuse directly.\n\n**Note:** `sendMessage` uses `to: \"channel:<id>\"` format, not `channelId`. Other actions like `react`, `readMessages`, `editMessage` use `channelId` directly.\n**Note:** `fetchMessage` accepts message IDs or full links like `https://discord.com/channels/<guildId>/<channelId>/<messageId>`.\n\n## Actions\n\n### React to a message\n\n```json\n{\n  \"action\": \"react\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\",\n  \"emoji\": \"‚úÖ\"\n}\n```\n\n### List reactions + users\n\n```json\n{\n  \"action\": \"reactions\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\",\n  \"limit\": 100\n}\n```\n\n### Send a sticker\n\n```json\n{\n  \"action\": \"sticker\",\n  \"to\": \"channel:123\",\n  \"stickerIds\": [\"9876543210\"],\n  \"content\": \"Nice work!\"\n}\n```\n\n- Up to 3 sticker IDs per message.\n- `to` can be `user:<id>` for DMs.\n\n### Upload a custom emoji\n\n```json\n{\n  \"action\": \"emojiUpload\",\n  \"guildId\": \"999\",\n  \"name\": \"party_blob\",\n  \"mediaUrl\": \"file:///tmp/party.png\",\n  \"roleIds\": [\"222\"]\n}\n```\n\n- Emoji images must be PNG/JPG/GIF and <= 256KB.\n- `roleIds` is optional; omit to make the emoji available to everyone.\n\n### Upload a sticker\n\n```json\n{\n  \"action\": \"stickerUpload\",\n  \"guildId\": \"999\",\n  \"name\": \"CoWork-OSS_wave\",\n  \"description\": \"CoWork-OSS waving hello\",\n  \"tags\": \"üëã\",\n  \"mediaUrl\": \"file:///tmp/wave.png\"\n}\n```\n\n- Stickers require `name`, `description`, and `tags`.\n- Uploads must be PNG/APNG/Lottie JSON and <= 512KB.\n\n### Create a poll\n\n```json\n{\n  \"action\": \"poll\",\n  \"to\": \"channel:123\",\n  \"question\": \"Lunch?\",\n  \"answers\": [\"Pizza\", \"Sushi\", \"Salad\"],\n  \"allowMultiselect\": false,\n  \"durationHours\": 24,\n  \"content\": \"Vote now\"\n}\n```\n\n- `durationHours` defaults to 24; max 32 days (768 hours).\n\n### Check bot permissions for a channel\n\n```json\n{\n  \"action\": \"permissions\",\n  \"channelId\": \"123\"\n}\n```\n\n## Ideas to try\n\n- React with ‚úÖ/‚ö†Ô∏è to mark status updates.\n- Post a quick poll for release decisions or meeting times.\n- Send celebratory stickers after successful deploys.\n- Upload new emojis/stickers for release moments.\n- Run weekly ‚Äúpriority check‚Äù polls in team channels.\n- DM stickers as acknowledgements when a user‚Äôs request is completed.\n\n## Action gating\n\nUse `discord.actions.*` to disable action groups:\n\n- `reactions` (react + reactions list + emojiList)\n- `stickers`, `polls`, `permissions`, `messages`, `threads`, `pins`, `search`\n- `emojiUploads`, `stickerUploads`\n- `memberInfo`, `roleInfo`, `channelInfo`, `voiceStatus`, `events`\n- `roles` (role add/remove, default `false`)\n- `channels` (channel/category create/edit/delete/move, default `false`)\n- `moderation` (timeout/kick/ban, default `false`)\n\n### Read recent messages\n\n```json\n{\n  \"action\": \"readMessages\",\n  \"channelId\": \"123\",\n  \"limit\": 20\n}\n```\n\n### Fetch a single message\n\n```json\n{\n  \"action\": \"fetchMessage\",\n  \"guildId\": \"999\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\"\n}\n```\n\n```json\n{\n  \"action\": \"fetchMessage\",\n  \"messageLink\": \"https://discord.com/channels/999/123/456\"\n}\n```\n\n### Send/edit/delete a message\n\n```json\n{\n  \"action\": \"sendMessage\",\n  \"to\": \"channel:123\",\n  \"content\": \"Hello from CoWork-OSS\"\n}\n```\n\n**With media attachment:**\n\n```json\n{\n  \"action\": \"sendMessage\",\n  \"to\": \"channel:123\",\n  \"content\": \"Check out this audio!\",\n  \"mediaUrl\": \"file:///tmp/audio.mp3\"\n}\n```\n\n- `to` uses format `channel:<id>` or `user:<id>` for DMs (not `channelId`!)\n- `mediaUrl` supports local files (`file:///path/to/file`) and remote URLs (`https://...`)\n- Optional `replyTo` with a message ID to reply to a specific message\n\n```json\n{\n  \"action\": \"editMessage\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\",\n  \"content\": \"Fixed typo\"\n}\n```\n\n```json\n{\n  \"action\": \"deleteMessage\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\"\n}\n```\n\n### Threads\n\n```json\n{\n  \"action\": \"threadCreate\",\n  \"channelId\": \"123\",\n  \"name\": \"Bug triage\",\n  \"messageId\": \"456\"\n}\n```\n\n```json\n{\n  \"action\": \"threadList\",\n  \"guildId\": \"999\"\n}\n```\n\n```json\n{\n  \"action\": \"threadReply\",\n  \"channelId\": \"777\",\n  \"content\": \"Replying in thread\"\n}\n```\n\n### Pins\n\n```json\n{\n  \"action\": \"pinMessage\",\n  \"channelId\": \"123\",\n  \"messageId\": \"456\"\n}\n```\n\n```json\n{\n  \"action\": \"listPins\",\n  \"channelId\": \"123\"\n}\n```\n\n### Search messages\n\n```json\n{\n  \"action\": \"searchMessages\",\n  \"guildId\": \"999\",\n  \"content\": \"release notes\",\n  \"channelIds\": [\"123\", \"456\"],\n  \"limit\": 10\n}\n```\n\n### Member + role info\n\n```json\n{\n  \"action\": \"memberInfo\",\n  \"guildId\": \"999\",\n  \"userId\": \"111\"\n}\n```\n\n```json\n{\n  \"action\": \"roleInfo\",\n  \"guildId\": \"999\"\n}\n```\n\n### List available custom emojis\n\n```json\n{\n  \"action\": \"emojiList\",\n  \"guildId\": \"999\"\n}\n```\n\n### Role changes (disabled by default)\n\n```json\n{\n  \"action\": \"roleAdd\",\n  \"guildId\": \"999\",\n  \"userId\": \"111\",\n  \"roleId\": \"222\"\n}\n```\n\n### Channel info\n\n```json\n{\n  \"action\": \"channelInfo\",\n  \"channelId\": \"123\"\n}\n```\n\n```json\n{\n  \"action\": \"channelList\",\n  \"guildId\": \"999\"\n}\n```\n\n### Channel management (disabled by default)\n\nCreate, edit, delete, and move channels and categories. Enable via `discord.actions.channels: true`.\n\n**Create a text channel:**\n\n```json\n{\n  \"action\": \"channelCreate\",\n  \"guildId\": \"999\",\n  \"name\": \"general-chat\",\n  \"type\": 0,\n  \"parentId\": \"888\",\n  \"topic\": \"General discussion\"\n}\n```\n\n- `type`: Discord channel type integer (0 = text, 2 = voice, 4 = category; other values supported)\n- `parentId`: category ID to nest under (optional)\n- `topic`, `position`, `nsfw`: optional\n\n**Create a category:**\n\n```json\n{\n  \"action\": \"categoryCreate\",\n  \"guildId\": \"999\",\n  \"name\": \"Projects\"\n}\n```\n\n**Edit a channel:**\n\n```json\n{\n  \"action\": \"channelEdit\",\n  \"channelId\": \"123\",\n  \"name\": \"new-name\",\n  \"topic\": \"Updated topic\"\n}\n```\n\n- Supports `name`, `topic`, `position`, `parentId` (null to remove from category), `nsfw`, `rateLimitPerUser`\n\n**Move a channel:**\n\n```json\n{\n  \"action\": \"channelMove\",\n  \"guildId\": \"999\",\n  \"channelId\": \"123\",\n  \"parentId\": \"888\",\n  \"position\": 2\n}\n```\n\n- `parentId`: target category (null to move to top level)\n\n**Delete a channel:**\n\n```json\n{\n  \"action\": \"channelDelete\",\n  \"channelId\": \"123\"\n}\n```\n\n**Edit/delete a category:**\n\n```json\n{\n  \"action\": \"categoryEdit\",\n  \"categoryId\": \"888\",\n  \"name\": \"Renamed Category\"\n}\n```\n\n```json\n{\n  \"action\": \"categoryDelete\",\n  \"categoryId\": \"888\"\n}\n```\n\n### Voice status\n\n```json\n{\n  \"action\": \"voiceStatus\",\n  \"guildId\": \"999\",\n  \"userId\": \"111\"\n}\n```\n\n### Scheduled events\n\n```json\n{\n  \"action\": \"eventList\",\n  \"guildId\": \"999\"\n}\n```\n\n### Moderation (disabled by default)\n\n```json\n{\n  \"action\": \"timeout\",\n  \"guildId\": \"999\",\n  \"userId\": \"111\",\n  \"durationMinutes\": 10\n}\n```\n\n## Discord Writing Style Guide\n\n**Keep it conversational!** Discord is a chat platform, not documentation.\n\n### Do\n\n- Short, punchy messages (1-3 sentences ideal)\n- Multiple quick replies > one wall of text\n- Use emoji for tone/emphasis ü¶û\n- Lowercase casual style is fine\n- Break up info into digestible chunks\n- Match the energy of the conversation\n\n### Don't\n\n- No markdown tables (Discord renders them as ugly raw `| text |`)\n- No `## Headers` for casual chat (use **bold** or CAPS for emphasis)\n- Avoid multi-paragraph essays\n- Don't over-explain simple things\n- Skip the \"I'd be happy to help!\" fluff\n\n### Formatting that works\n\n- **bold** for emphasis\n- `code` for technical terms\n- Lists for multiple items\n- > quotes for referencing\n- Wrap multiple links in `<>` to suppress embeds\n\n### Example transformations\n\n‚ùå Bad:\n\n```\nI'd be happy to help with that! Here's a comprehensive overview of the versioning strategies available:\n\n## Semantic Versioning\nSemver uses MAJOR.MINOR.PATCH format where...\n\n## Calendar Versioning\nCalVer uses date-based versions like...\n```\n\n‚úÖ Good:\n\n```\nversioning options: semver (1.2.3), calver (2026.01.04), or yolo (`latest` forever). what fits your release cadence?\n```",
  "parameters": [],
  "enabled": true,
  "metadata": {
    "routing": {
      "useWhen": "Use when the user asks to use when you need to control Discord from CoWork-OSS via the discord tool: send messages, react, post or upload stickers, upload emojis, run polls, manage threads/pins/search, create/edit/delete channels and categories, fetch permissions or member/role/channel info, or handle moderation actions in Discord DMs or channels.",
      "dontUseWhen": "Do not use when the request is asking for planning documents, high-level strategy, or non-executable discussion; use the relevant planning or design workflow instead.",
      "outputs": "Outcome from Discord: task-specific result plus concrete action notes.",
      "successCriteria": "Returns concrete actions and decisions matching the requested task, with no fabricated tool-side behavior."
    }
  }
}
