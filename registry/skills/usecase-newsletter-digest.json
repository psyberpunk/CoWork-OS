{
  "id": "usecase-newsletter-digest",
  "name": "Newsletter Digest",
  "description": "Summarize newsletter/email feed messages from the last N hours and propose follow-ups.",
  "icon": "ðŸ“°",
  "category": "Use Cases",
  "prompt": "Newsletter digest workflow.\n\nGoal\n- Summarize recent newsletters/updates flowing into a chat (Slack/email) and propose follow-ups.\n\nInputs\n- Channel: {{channel}}\n- Chat hint (name/keyword): {{chat_hint}}\n- Since: {{since}}\n- Message limit: {{message_limit}}\n- Output format: {{output_format}}\n\nSteps\n1) Use channel_list_chats on channel \"{{channel}}\" with since \"{{since}}\".\n2) Pick the most likely chat for \"{{chat_hint}}\".\n   - If ambiguous, show top 5 candidates and ask me which chat_id to use, then STOP.\n3) Use channel_history for the chosen chat_id (limit {{message_limit}}, since \"{{since}}\" if it helps).\n4) Extract distinct newsletter items (title + link if present) and summarize each in 1-2 sentences.\n5) Produce a digest in format \"{{output_format}}\".\n6) If any items look action-worthy, propose concrete next steps (but do not take external actions unless I confirm).\n",
  "parameters": [
    {
      "name": "channel",
      "type": "select",
      "description": "Where the newsletter feed arrives",
      "required": true,
      "options": [
        "slack",
        "email"
      ]
    },
    {
      "name": "chat_hint",
      "type": "string",
      "description": "Name/keyword to identify the chat in channel_list_chats results",
      "required": true
    },
    {
      "name": "since",
      "type": "string",
      "description": "Time window (e.g., \"24h\")",
      "required": false,
      "default": "24h"
    },
    {
      "name": "message_limit",
      "type": "number",
      "description": "How many messages to fetch",
      "required": false,
      "default": 120
    },
    {
      "name": "output_format",
      "type": "select",
      "description": "How to format the digest",
      "required": false,
      "default": "bullets",
      "options": [
        "bullets",
        "table"
      ]
    }
  ],
  "enabled": true,
  "metadata": {
    "routing": {
      "useWhen": "Use when the user asks to summarize newsletter/email feed messages from the last N hours and propose follow-ups.",
      "dontUseWhen": "Do not use when the request is asking for planning documents, high-level strategy, or non-executable discussion; use the relevant planning or design workflow instead.",
      "outputs": "Outcome from Newsletter Digest: task-specific result plus concrete action notes.",
      "successCriteria": "Returns concrete actions and decisions matching the requested task, with no fabricated tool-side behavior."
    }
  }
}
