{
  "id": "code-reviewer",
  "name": "code-reviewer",
  "description": "Perform professional code review for local changes or GitHub pull requests.",
  "icon": "ðŸ§ª",
  "category": "Development",
  "prompt": "# code-reviewer\n\nBundled upstream source: https://github.com/google-gemini/gemini-cli/tree/main/.gemini/skills/code-reviewer\n\n# Code Reviewer\n\nThis skill guides the agent in conducting professional and thorough code reviews for both local development and remote Pull Requests.\n\n## Workflow\n\n### 1. Determine Review Target\n*   **Remote PR**: If the user provides a PR number or URL (e.g., \"Review PR #123\"), target that remote PR.\n*   **Local Changes**: If no specific PR is mentioned, or if the user asks to \"review my changes\", target the current local file system states (staged and unstaged changes).\n\n### 2. Preparation\n\n#### For Remote PRs:\n1.  **Checkout**: Use the GitHub CLI to checkout the PR.\n    ```bash\n    gh pr checkout <PR_NUMBER>\n    ```\n2.  **Preflight**: Execute the project's standard verification suite to catch automated failures early.\n    ```bash\n    npm run preflight\n    ```\n3.  **Context**: Read the PR description and any existing comments to understand the goal and history.\n\n#### For Local Changes:\n1.  **Identify Changes**:\n    *   Check status: `git status`\n    *   Read diffs: `git diff` (working tree) and/or `git diff --staged` (staged).\n2.  **Preflight (Optional)**: If the changes are substantial, ask the user if they want to run `npm run preflight` before reviewing.\n\n### 3. In-Depth Analysis\nAnalyze the code changes based on the following pillars:\n\n*   **Correctness**: Does the code achieve its stated purpose without bugs or logical errors?\n*   **Maintainability**: Is the code clean, well-structured, and easy to understand and modify in the future? Consider factors like code clarity, modularity, and adherence to established design patterns.\n*   **Readability**: Is the code well-commented (where necessary) and consistently formatted according to our project's coding style guidelines?\n*   **Efficiency**: Are there any obvious performance bottlenecks or resource inefficiencies introduced by the changes?\n*   **Security**: Are there any potential security vulnerabilities or insecure coding practices?\n*   **Edge Cases and Error Handling**: Does the code appropriately handle edge cases and potential errors?\n*   **Testability**: Is the new or modified code adequately covered by tests (even if preflight checks pass)? Suggest additional test cases that would improve coverage or robustness.\n\n### 4. Provide Feedback\n\n#### Structure\n*   **Summary**: A high-level overview of the review.\n*   **Findings**:\n    *   **Critical**: Bugs, security issues, or breaking changes.\n    *   **Improvements**: Suggestions for better code quality or performance.\n    *   **Nitpicks**: Formatting or minor style issues (optional).\n*   **Conclusion**: Clear recommendation (Approved / Request Changes).\n\n#### Tone\n*   Be constructive, professional, and friendly.\n*   Explain *why* a change is requested.\n*   For approvals, acknowledge the specific value of the contribution.\n\n### 5. Cleanup (Remote PRs only)\n*   After the review, ask the user if they want to switch back to the default branch (e.g., `main` or `master`).",
  "parameters": [],
  "enabled": true,
  "metadata": {
    "routing": {
      "useWhen": "Use for formal, structured review workflows on local diffs or GitHub PRs.",
      "dontUseWhen": "Don't use for one-off formatting checks without code-quality feedback.",
      "outputs": "Findings grouped by severity with rationale and approval/revise recommendation.",
      "successCriteria": "Covers correctness, maintainability, performance, security, and testability."
    },
    "version": "1.0.0",
    "author": "google-gemini",
    "repository": "https://github.com/google-gemini/gemini-cli/tree/main/.gemini/skills/code-reviewer"
  }
}
