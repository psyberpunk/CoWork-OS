{
  "id": "refactor-code",
  "name": "Refactor Code",
  "description": "Improve code structure and readability",
  "icon": "ðŸ”§",
  "category": "Development",
  "prompt": "Please refactor the code in {{path}} to improve its quality.\n\nFocus on:\n- {{focus}}\n- Maintaining the same functionality\n- Adding comments where helpful\n- Following best practices for the language\n\nExplain the changes you make and why.",
  "parameters": [
    {
      "name": "path",
      "type": "string",
      "description": "Path to the file to refactor",
      "required": true
    },
    {
      "name": "focus",
      "type": "select",
      "description": "What to focus on",
      "required": true,
      "default": "readability",
      "options": [
        "readability",
        "performance",
        "modularity",
        "error handling",
        "all of the above"
      ]
    }
  ],
  "enabled": true,
  "metadata": {
    "routing": {
      "useWhen": "Use when user asks to improve maintainability, readability, modularity, or error handling in code.",
      "dontUseWhen": "Don't use for behavior-only fixes where refactor risk is unnecessary.",
      "outputs": "Refactor changes, rationale, and minimal review checklist for behavior-sensitive sections.",
      "successCriteria": "Preserves behavior while improving structure and readability."
    }
  }
}
