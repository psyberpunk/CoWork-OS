[Unit]
Description=CoWork OS (Headless)
After=network.target

[Service]
Type=simple

# Path where you cloned/built CoWork OS on the VPS.
WorkingDirectory=/opt/cowork-os

# Optional env file (LLM keys, data dir, control plane host/port, etc).
EnvironmentFile=-/etc/cowork-os.env

# Headless Electron can fail on some servers without a DISPLAY. Xvfb provides a virtual display.
ExecStart=/usr/bin/xvfb-run -a /usr/bin/node /opt/cowork-os/bin/coworkd.js

Restart=on-failure
RestartSec=5

# Run as an unprivileged user (recommended).
User=cowork
Group=cowork

[Install]
WantedBy=multi-user.target
